# Lab 1
# Теоритическая база
Определение цвета на видеопотоке является одной из базовых задач в компьютерном зрении. Задачу такого рода можно решить множеством способов, в текущей лабораторной работе будут представлены 3 различных подхода.
## DetectColor
Демонстрирует способ определение цвета на видео файле с использованием стека:
 * Python;
 * OpenCV.
## DetectColor_np
Демонстрирует способ определение цвета на видео файле с использованием стека:
 * Python;
 * OpenCV (для воспроизведения видео и отрисовки ректангла);
 * Numpy (для определение преобладающего цвета).
 ## lab_1_color
 Демонстрирует способ определение цвета на видео файле с использованием стека:
 * C++;
 * OpenCV.



1. На вход подается RGB видеофайл;
2. Отрисовываем ректангл;
3. Меняем его цветовое пространство внутри ректангла (RGB -> BRG/HSV). 
    a) R - red (красный), G - > green (зелёный), B -> blue (синий). 
    b) H - hue (тон), S - > saturation (насыщенность), V -> value (значение цвета).
   ![Снимок экрана 2022-12-01 145446](https://user-images.githubusercontent.com/82668230/205046916-a2a4b72c-405f-4308-8547-321f29f192db.jpg)
4. В зависимости от подхода определяем цвет.

# Результаты работы и тестирования системы
## DetectColor
Мы пытаемся обнаружить 3 разных цвета (Red, Blue, White):
 * Задаём границы каждого цвета;
  ```
l_white = [0, 0, 0]
u_white = [0, 0, 255]

l_red = [136, 87, 111]
u_red = [180, 255, 255]

l_blue = [94, 80, 2]
u_blue = [120, 255, 255]
```
* C помощью функции cv2.inRange() получаем маски для каждого цвета;
* Считаем у какого из цветов макска содержит больше цветных пикселей;
* Выводим преобладающий цвет, в случае, если количество цветных пикселей равно 0, выводится Unknown.

Пример работы.
![3](https://user-images.githubusercontent.com/82668230/205050576-9187b2f4-eb2c-4031-9bb8-ba19fe48ead8.jpg)
Время обработки: 0.0009 секунды.

##DetectColor_np
Мы  пытаемся обнаружить 3 разных цвета (Red, Blue, White):
 * Задаём границы каждого цвета;
  ```
l_white = np.array([0, 0, 128])
u_white = np.array([0, 0, 255])

l_red = np.array([136, 87, 111])
u_red = np.array([180, 255, 255])

l_blue = np.array([94, 80, 2])
u_blue = np.array([120, 255, 255])
```
* Запускаем цикл, который проходит по каждому пикселю, на интересующем нас участке видеопотока;
* Получаем список соответствий, где 1 - White, 2 - Red, 3 - Blue;
* Выбираем цвет, который встретился наибольшее количество раз.

Пример работы.
![4](https://user-images.githubusercontent.com/82668230/205052967-281f510c-7ac4-4b11-84c0-73143a6090f4.jpg)
Время обработки: 0.05 секунды.



# Выводы по работе

