# Computer-Vision
## Теоретическая справка
Данная работа включает в себя использования следующих библеотек:
* CVzone
* Mediapipe
* Pynput.keyboard


Данные библеотеки позволяют нам обнаружать руку и ключевые точки на ней.
### Функция findDistance:
```
detector = HandDetector(detectionCon=0.5)
detector.findDistance
```
Поиск расстояния между двумя точками в 2D пространстве.
```
return:  lenght,  info (x1,y1,x2,y2,cx,cy), img
```
### Функция findPosition:
```
detector = HandDetector(detectionCon=0.5)
detector.findPosition(frame)
```
Получение контрольных точек и bounding box руки.

### Функция findHands:
```
detector = HandDetector(detectionCon=0.5)
detector.findHands(frame)
```
Получение контрольных точек и bounding box руки.
## Принцип работы можно представить следующим образом:
![image](https://user-images.githubusercontent.com/82668230/209147364-30d46a8e-c444-444c-9c89-b8aab8ab2fe2.png)
## Клавиатура
* Используется английский алфавит и знаки препинания в 2 регистрах
* Каждая клавиша - объект класса Key() с атрибутами (position,  text, weight, height, color)

![image](https://user-images.githubusercontent.com/82668230/209149086-70ae26b8-16a8-4877-8583-0524eae77a5f.png)


## CVzone и mediapipe
* Получаем ключевые точки руки;
* На каждой итерации измеряем расстояние между точками, отвечающими за команды;
* Если расстояние меньше заданного порога, выполняем соответствующую операцию;
* Скорость обработки при движении руки: 15 мс;
* Скорость обработки статической руки: 10 мс.

![image](https://user-images.githubusercontent.com/82668230/209149159-06b5fac6-c1f1-4502-a04b-dc3b96a103d4.png)

## Hotkeys
![image](https://user-images.githubusercontent.com/82668230/209149491-847a03b7-d71b-4398-bdf9-2c12334f5562.png)

1. Нажатие (совмещение точек 8 и 12);
2. Удаление (совмещение точек 4 и 13);
3. Enter (совмещение 4 и 20);
4. Caps Lock (совмещение 4 и 16).

## Ввод текста 
Для ввода текста используется библетека pynput.keyboard:
1. Создаётся объект 
```
keybordCon = Controller()
```
2. При нажатии на виртуальную кнопку считывается текст, хранящейся в объекте и передаётся в функцию press
```
keybordCon.press(button.text)
```
3. Происходит нажатие выбранной кнопки.

## Основные проблемы: 
1) Проблема с отдалением руки от камеры на большое расстояние.
2) Проблема вращения руки вокруг своей оси.

# Вывод 
* Был создан прототип виртуальной клавиатуры, а также мы познакомились с новыми библиотеками, которые можно использовать в разработке CV приложений.
* Прототип получился интересный, но учитывая, все факторы, данная технология ещё не скоро заменит классическую клавиатуру.





